#雪花算法
SnowFlake（雪花）算法是Twitter 开源的分布式 ID 生成算法，其核心思想是使用一个 64bit 的 long 型数字作为全局唯一 ID，且 ID 引入了时间戳，基本上能够保持自增。

## 雪花算法64bit详细结构规范
1. 符号位(1bit)
    - 第一个部分即第一个 bit，值为 0，没有实际意义。
2. 时间戳位(41bit)
    - 41 位的时间戳可以容纳的毫秒数是 2 的 41 次幂,即69.73年
3. 工作进程位(10bit)
    - 前 5 个 bit 代表机房 id，后 5 个 bit 代表机器id 
4. 序列号位(12bit)
    - 某个机房某台机器上在一毫秒内同时生成的 ID 序号
    - 如果在这个毫秒内生成的数量超过 4096（即 2 的 12 次幂），那么生成器会等待下个毫秒继续生成

## 雪花算法异常情况处理
1. 时钟回拨
    - 时钟回拨，是指服务器因为时间同步，导致某一部分机器的时钟回到了过去的时间点
    - 时间戳的回滚会导致生成一个已经使用过的 ID，因此默认分布式主键生成器提供了一个最大容忍的时钟回拨毫秒数。如果时钟回拨的时间超过最大容忍的毫秒数阈值，则程序报错；如果在可容忍的范围内，默认分布式主键生成器会等待时钟同步到最后一次主键生成的时间后再继续工作。 

   
