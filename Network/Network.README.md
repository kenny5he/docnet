#### OSI/OSI 七层模型（理论模型）
根据目的进行划分:
- 为用户：
    1. 应用层
        1. 单位：APDU
        2. 作用：用户接口
    2. 表示层 
        1. 单位：PPDU，
        2. 作用：数据的表现形式、特定功能的实现 如加密、压缩
    3. 会话层
        1. 单位：SPDU
        2. 作用：对应用会话的管理、同步
- 为数据传输：
    1. 传输层
        1. 单位：TPDU
        2. 作用：①可靠(TCP)与不可靠(UDP)的传输、传输前的错误检测、流控  ②确定端口号（网站：80）邮件（TCP协议 端口：发送 25、接收 110）（文件 端口：21）
    2. 网络层
        1. 单位：报文，
        2. 作用：①提供逻辑地址、②选路（确定IP，访问IP的路径）
    3. 数据链路层
        1. 单位：帧，
        2. 作用：①成帧、②用MAC地址访问媒介、③错误验证与修正
    4. 物理层 
        1. 单位：比特
        2. 作用：①设备之间的比特流传输、②物理接口、电气特性等，例：（网线：8根线，1、3、4、6作为数据传输））

#### TCP/IP协议4层模型（实际应用模型）
1. 应用层（对应OSI7层参考模型应用层、表示层、会话层）
2. 传输层（对应OSI7层参考模型传输层）
    1. 协议：传输控制协议 TCP(可靠、面向连接协议，三次握手)、用户数据报协议UDP（不可靠，面向不连接协议）
		三次握手，四次挥手（两军问题）
3. 网际互联层（对应OSI7层参考模型中网络层）
    1. 作用：解决主机到主机的通信问题，设计数据包在整个网络上的逻辑传输
    2. 协议：网际协议 IP、 互联网管理协议 IGMP、互联网控制报文协议 ICMP
4. 网络接口层（对应OSI7层参考模型中数据链路层、物理层）（局域网使用物理地址，而不是使用IP确认发送地址，公网使用IP确认地址）
    1. 作用：负责监视数据在主机和网络之间的交换
    2. 协议：ARP 地址解析协议
		
#### TCP/IP模型与OSI模型比较
1. 共同点：
    OSI参考模型和TCP/IP参考模型采用了层次结构的概念
    都能够提供面向连接和无连接两种通信服务机制
2. 不同点：
    前者是七层模型，后者是四层模型
    对可靠性要求不同（后者更高）
    OSI模型是在协议开发前设计的，具有通用性，TCP/IP是先有协议集然后建立模型，不适用非TCP/IP网络
    实际应用市场（OSI执行理论模型，TCP/IP是实际国际标准）

#### IPV4
##### 数据包结构

[参考博客](http://www.360doc.com/content/16/0415/11/478627_550800225.shtml)

##### IPV4地址分类
|网络类别	|最大网络			|IP地址范围												    |最大主机数	    |私有IP地址范围|                子网掩码|
|---|---|---|---|---|---|
|A			|126（2^7-2）		|1.0.0.0~126.255.255.255(第一个数字相同，代表在同一个网络)		|2^24-2		|10.0.0.0~10.255.255.255 |        255.0.0.0/8|
|B			|16384（2^7-2）	    |128.0.0.0~191.255.255.255(前两个数字相同，代表在同一个网络)	    |2^16-2		|172.16.0.0~172.31.255.255|       255.255.0.0/16|
|C			|2097152（2^21）	    |192.0.0.0~223.255.255.255								    |2^8-2		|192.168.0.0~192.168.255.255|     255.255.255.0/24|
![ç½ç»å°åçåå](https://img-blog.csdn.net/20160712182446560)

##### IPV4地址算法

IPV4中地址二进制算法为32位，我们为了方便阅读，每8位读取，故0b11111111值为255，所以IPV4中最大数值为255。



#### IPV6
IPv6的地址长度为128b，16字节，是IPv4地址长度的4倍，采用十六进制表示。
##### IPV6的表示方法
1. 冒分十六进制表示法
    格式为X:X:X:X:X:X:X:X，其中每个X表示地址中的16b，以十六进制表示，例如：
    ABCD:EF01:2345:6789:ABCD:EF01:2345:6789
2. 0位压缩表示法
　　在某些情况下，一个IPv6地址中问可能包含很长的一段0，可以把连续的一段0压缩为“::”。但为保证地址解析的唯一性，地址中”::”只能出现一次，例如：
　　FF01:0:0:0:0:0:0:1101 → FF01::1101
　　0:0:0:0:0:0:0:1 → ::1
　　0:0:0:0:0:0:0:0 → ::
3. 内嵌ipv4表示法
##### IPV6的地址分类
- 单播地址(Unicast IPv6 Addresses)
    1. 可聚合的全球单播地址（Aggregatable Global Unicast Addresses）
        可在全球范围内路由和到达的，前三个bit是001
        例如   2000::1:2345:6789:abcd
        相当于IPv4里面的global addresses。 （8.8.8.8）
        0010 ==> 2xxx::
        0011 ==> 3xxx::
        所以只有2和3开头的地址才是公网地址
    2. 链路本地地址（Link-Local Addresses）
        用于同一个链路上的相邻节点之间通信，Ipv6的路由器不会转发链路本地地址的数据包。
        前10个bit是1111 1110 10，由于最后是64bit的interface ID，所以它的前缀总是 FE80::/64
        例如   FE80::1
        相当于IPv4里面的169.254.0.0/16地址。
    3. 站点本地地址（Site-Local Addresses）
        对于无法访问internet的本地网络，可以使用站点本地地址，它的前10个bit是1111 1110 11，它最后是16bit的Subnet ID和64bit的interface ID，所以它的前缀是 FEC0::/48。
        相当于IPv4里面的private address（10.0.0.0/8, 172.16.0.0/12, and 192.168.0.0/16）
        在RFC3879中已放弃，它在RFC4193中被ULA取代。
    4. 唯一的本地IPv6单播地址（ULA，Unique Local IPv6 Unicast Address）
        在RFC4193中标准化了一种用来在本地通信中取代单播站点本地地址的地址。
        ULA拥有固定前缀 FD00::/8 ，后面跟一个被称为全局ID的40bit随机标识符。
    5. 未指定地址（Unspecified address）
        0:0:0:0:0:0:0:0 或者 ::
        当一个有效地址还不能确定，一般用未指定地址作为源地址。
        未指定地址不能作为一个目标地址来使用，一般在程序中用来监听所有地址 。
    6. 回环地址（Loopback address）
        回环地址 ::1 用于标识一个回环接口，可以使一个节点可以给自己发送数据包。
        相当于IPv4的回环地址127.0.0.1。
- 多播地址(Multicast IPv6 Addresses)
    前8个bit为1111 1111，
    其中 FF01:: 到 FF0F:: 的多播地址是保留专用地址
    FF01::1 节点本地范围所有节点多播地址
    FF02::1 链路本地范围所有节点多播地址
    FF01::2 节点本地范围所有路由器多播地址
    FF02::2 链路本地范围所有路由器多播地址
    FF05::2 站点本地范围所有路由器多播地址
[IPV6 Java开发](https://www.jianshu.com/p/769b5cad6071)

#### 子网掩码的使用
[参考博客](https://blog.csdn.net/han156/article/details/77817031)
注意: IP和子网掩码不能单独使用，必须相配合使用
- IP Address （IP地址）
- Subnet Mask（子网掩码）
- Network Id （网络ID）
- 网络地址：计算方式等于使用IP地址与子网掩码相与，
- 广播地址：计算方式等于


#### 端口：
TCP、UDP协议的开头分别有16位来存储源端口号和目标端口号,所以端口的个数为2^16-1=65535个
1. 端口号：
2. [常见端口](http://tool.oschina.net/commons?type=7)
    - FTP(文件传输协议)：20 21
    - SSH(安全shell协议):22<br/>
    - telnet(远程登录协议)：23（明文传递，不建议使用）
    - DNS(域名系统)：53
    - http(超文本传输协议)：80
    - SMTP(简单邮件传输协议)：25
    - POP3(邮局协议3代)：110
3. 查看本机启用的端口<br/>
    netstat -an 查看所有了解和监听端口，显示IP地址和端口号，而不显示域名和服务名
    DNS的作用：
    IP地址使用数字表示，不利于记忆，DNS将域名与IP进行互转。
    早期Hosts文件解析域名
    	名称解析效能下降
    	主机维护困难
    DNS服务
    	层次性
    	分布式
    根域：.
    顶级域：com(商业) gov(政府) mil(军事) org(社会组织)
    二级域：huawei ibm microsoft
    DNS查询过程：客户机 --> 本地域名服务器 查询--> 根DNS服务器 --> 顶级域名地址 --> 二级域名


网关的作用：(将内网地址转义成公网地址)
	网关(Gateway)又称网间连接器、协议转换器
	网关在网络层以上实现网络互连，是最复杂的网络互连设备，仅用于两个最高层协议不同的网络互连
	网关既可以用于广域网互连，也可以用于局域网互连
	网关是一种充当转换重任的服务器或路由器
	



